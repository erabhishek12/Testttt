<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spiritual Visit Counter</title>
    <style>
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    background: transparent;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
}

/* === PILL BUTTON STYLE === */
.counter-container {
    /* sizing */
    display: inline-flex;
    align-items: center;
    gap: 10px;
    padding: 10px 18px;
    min-height: 46px;              /* short like a button */
    height: auto;
    width: auto;
    
    /* look & feel (orange pill) */
    background: linear-gradient(180deg, #ff7a3d 0%, #ff5533 100%);
    border-radius: 9999px;         /* pill shape */
    border: none;
    overflow: visible;

    /* soft raised button shadows */
    box-shadow:
        0 10px 24px rgba(0, 0, 0, 0.35),
        inset 0 2px 0 rgba(255, 255, 255, 0.25),
        inset 0 -4px 10px rgba(0, 0, 0, 0.35);
    
    /* interaction */
    cursor: pointer;
    transition: transform .12s ease, box-shadow .12s ease, filter .12s ease;
}

.counter-container:hover {
    transform: translateY(-1px);
    box-shadow:
        0 12px 28px rgba(0, 0, 0, 0.38),
        inset 0 3px 0 rgba(255, 255, 255, 0.28),
        inset 0 -4px 10px rgba(0, 0, 0, 0.35);
    filter: brightness(1.02);
}

.counter-container:active {
    transform: translateY(0);
    box-shadow:
        0 6px 16px rgba(0, 0, 0, 0.4),
        inset 0 1px 0 rgba(255, 255, 255, 0.18),
        inset 0 -2px 6px rgba(0, 0, 0, 0.4);
}

/* remove the old glowing/shimmer card effects */
.counter-container::before { display: none; }

/* left icon (‡•ê or üëÅ) */
.om-symbol {
    margin: 0;
    font-size: 18px;
    color: rgba(255, 255, 255, 0.98);
    text-shadow: 0 1px 2px rgba(0,0,0,.35);
    animation: none;               /* keep it calm like a button */
}

/* main text pieces arranged inline */
.counter-label {
    color: #fff;
    font-size: 12px;
    font-weight: 700;
    text-transform: none;
    letter-spacing: .3px;
    margin: 0;
    text-shadow: 0 1px 2px rgba(0,0,0,.35);
}

/* remove inner box; make it inline */
.counter-display {
    background: transparent;
    border-radius: 0;
    padding: 0;
    box-shadow: none;
    display: inline;
}

/* number next to the label */
.counter-number {
    margin-left: 6px;
    font-size: 18px;
    font-weight: 900;
    letter-spacing: .5px;
    color: #fff;                   /* solid white for readability */
    background: none;
    -webkit-text-fill-color: #fff;
    animation: none;               /* no pop-in */
    text-shadow: 0 1px 2px rgba(0,0,0,.35);
}

/* tiny meta text (e.g., "Visitors") kept compact */
.visitors-text {
    margin-left: 8px;
    font-size: 11px;
    font-weight: 600;
    color: rgba(255,255,255,.9);
    text-shadow: 0 1px 2px rgba(0,0,0,.35);
}

/* decorative dots not needed on a button; hide to save space */
.decorative-dots { display: none; }
.dot { display: none; }

/* optional corner placement helper */
.bottom-right {
    position: fixed;
    bottom: 20px;
    right: 20px;
    z-index: 9999;
}

/* keep keyframes in case you re-enable animations elsewhere */
@keyframes countUp {
    from { transform: translateY(10px); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
}
    </style>
</head>
<body>
    <div class="counter-container bottom-right">
        <div class="om-symbol">‡•ê</div>
        <div class="counter-label">Divine Visitors</div>
        <div class="counter-display">
            <div class="counter-number" id="visitorCount">0</div>
            <div class="visitors-text">BLESSED SOULS</div>
        </div>
        <div class="decorative-dots">
            <div class="dot"></div>
            <div class="dot"></div>
            <div class="dot"></div>
        </div>
    </div>

    <script>
        // Configuration
        const COUNTER_KEY = 'spiritualVisitorCount';
        const VISITOR_KEY = 'spiritualVisitorId';
        const API_URL = 'YOUR_API_ENDPOINT'; // Replace with your backend API

        // Function to generate unique visitor ID
        function generateVisitorId() {
            return 'visitor_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
        }

        // Function to check if this is a unique visitor
        function isUniqueVisitor() {
            return !localStorage.getItem(VISITOR_KEY);
        }

        // Function to get visitor count
        function getVisitorCount() {
            const count = localStorage.getItem(COUNTER_KEY);
            return count ? parseInt(count) : 0;
        }

        // Function to increment visitor count
        function incrementVisitorCount() {
            let count = getVisitorCount();
            count++;
            localStorage.setItem(COUNTER_KEY, count);
            return count;
        }

        // Function to animate number change
        function animateCount(target) {
            const element = document.getElementById('visitorCount');
            const start = parseInt(element.textContent) || 0;
            const duration = 1000;
            const startTime = performance.now();

            function update(currentTime) {
                const elapsed = currentTime - startTime;
                const progress = Math.min(elapsed / duration, 1);
                
                const current = Math.floor(start + (target - start) * easeOutQuad(progress));
                element.textContent = current.toLocaleString();

                if (progress < 1) {
                    requestAnimationFrame(update);
                }
            }

            function easeOutQuad(t) {
                return t * (2 - t);
            }

            requestAnimationFrame(update);
        }

        // Initialize counter
        function initCounter() {
            let count = getVisitorCount();

            // Check if unique visitor
            if (isUniqueVisitor()) {
                const visitorId = generateVisitorId();
                localStorage.setItem(VISITOR_KEY, visitorId);
                count = incrementVisitorCount();
                
                // Optional: Send to backend
                // sendToBackend(visitorId, count);
            }

            animateCount(count);
        }

        // Optional: Function to send data to backend
        function sendToBackend(visitorId, count) {
            fetch(API_URL, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    visitorId: visitorId,
                    count: count,
                    timestamp: new Date().toISOString()
                })
            }).catch(err => console.log('Backend not configured'));
        }

        // Initialize on page load
        window.addEventListener('load', initCounter);
    </script>
</body>
</html>
