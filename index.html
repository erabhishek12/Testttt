<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spiritual Visit Counter</title>
    <style>
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    background: transparent; /* keep page bg as-is */
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
}

/* === PILL CONTAINER (button-like) === */
.counter-container {
    position: relative;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    min-width: 240px;            /* wider, like a button */
    height: 56px;                /* pill height */
    padding: 0 28px;             /* horizontal padding */
    border-radius: 9999px;       /* full pill */
    background: linear-gradient(180deg, #ff7a52 0%, #ff5e3a 100%);
    border: none;

    /* soft depth + inner shine similar to the reference */
    box-shadow:
        0 10px 22px rgba(0, 0, 0, 0.45),         /* outer drop shadow */
        0 2px 0 rgba(255, 255, 255, 0.05),       /* subtle top rim */
        inset 0 1px 0 rgba(255, 255, 255, 0.35), /* inner top highlight */
        inset 0 -10px 16px rgba(0, 0, 0, 0.18);  /* inner bottom shading */
    overflow: hidden;
    cursor: default;
    transition: transform .08s ease, box-shadow .12s ease, filter .12s ease;
}

/* shimmering top highlight band */
.counter-container::before {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient( to bottom, rgba(255,255,255,0.22), rgba(255,255,255,0) 40% );
    pointer-events: none;
}

/* faint glow ring */
.counter-container::after {
    content: '';
    position: absolute;
    inset: -6px;
    border-radius: 9999px;
    box-shadow: 0 0 40px rgba(255, 120, 70, 0.25);
    pointer-events: none;
}

/* interactive feel (optional) */
.counter-container:hover {
    filter: brightness(1.02);
}
.counter-container:active {
    transform: translateY(1px);
    box-shadow:
        0 6px 16px rgba(0, 0, 0, 0.45),
        0 2px 0 rgba(255, 255, 255, 0.04),
        inset 0 2px 0 rgba(255, 255, 255, 0.3),
        inset 0 -8px 14px rgba(0, 0, 0, 0.2);
}

/* === CONTENT INSIDE THE PILL === */
/* keep your Om/icon—smaller and inline */
.om-symbol {
    font-size: 20px;
    color: rgba(255, 255, 255, 0.95);
    text-shadow: 0 2px 4px rgba(0,0,0,0.25);
    margin: 0;                   /* no vertical gap in pill */
    animation: pulse 2s ease-in-out infinite;
}

/* compact label */
.counter-label {
    color: rgba(255,255,255,0.95);
    font-size: 12px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.8px;
    margin: 0;                   /* inline */
    text-shadow: 0 1px 2px rgba(0,0,0,0.35);
}

/* remove card look; make inline holder for numbers */
.counter-display {
    background: transparent;
    border-radius: 0;
    padding: 0;
    box-shadow: none;
    display: inline-flex;
    align-items: baseline;
    gap: 8px;
}

/* bold number like a CTA text */
.counter-number {
    font-size: 20px;
    font-weight: 800;
    letter-spacing: 1px;
    background: linear-gradient(135deg, #fff, #ffe7dc);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    text-shadow: 0 1px 2px rgba(0,0,0,0.25);
    animation: countUp 0.5s ease-out;
}

.visitors-text {
    font-size: 11px;
    font-weight: 700;
    color: rgba(255,255,255,0.9);
    margin: 0;
    text-shadow: 0 1px 2px rgba(0,0,0,0.25);
}

/* small decorative dots can sit at the end */
.decorative-dots {
    display: inline-flex;
    gap: 5px;
    margin: 0 0 0 4px;
}
.dot {
    width: 6px;
    height: 6px;
    background: rgba(255, 255, 255, 0.7);
    border-radius: 50%;
    animation: dotPulse 1.5s ease-in-out infinite;
}
.dot:nth-child(2) { animation-delay: 0.2s; }
.dot:nth-child(3) { animation-delay: 0.4s; }

/* pulse + dot animations kept */
@keyframes pulse {
    0%, 100% { transform: scale(1); opacity: 0.9; }
    50% { transform: scale(1.08); opacity: 1; }
}
@keyframes countUp {
    from { transform: translateY(6px); opacity: 0; }
    to   { transform: translateY(0);   opacity: 1; }
}
@keyframes dotPulse {
    0%, 100% { transform: scale(1); opacity: 0.65; }
    50% { transform: scale(1.25); opacity: 1; }
}

/* corner positioning helper (unchanged) */
.bottom-right {
    position: fixed;
    bottom: 20px;
    right: 20px;
    z-index: 9999;
}

/* responsive: keep pill shape, allow wrap if needed */
@media (max-width: 420px) {
    .counter-container {
        min-width: 200px;
        height: 52px;
        padding: 0 20px;
        gap: 8px;
    }
    .counter-number { font-size: 18px; }
    .counter-label  { font-size: 11px; }
    .visitors-text  { font-size: 10px; }
}
    </style>
</head>
<body>
    <div class="counter-container bottom-right">
        <div class="om-symbol">ॐ</div>
        <div class="counter-label">Divine Visitors</div>
        <div class="counter-display">
            <div class="counter-number" id="visitorCount">0</div>
            <div class="visitors-text">BLESSED SOULS</div>
        </div>
        <div class="decorative-dots">
            <div class="dot"></div>
            <div class="dot"></div>
            <div class="dot"></div>
        </div>
    </div>

    <script>
        // Configuration
        const COUNTER_KEY = 'spiritualVisitorCount';
        const VISITOR_KEY = 'spiritualVisitorId';
        const API_URL = 'YOUR_API_ENDPOINT'; // Replace with your backend API

        // Function to generate unique visitor ID
        function generateVisitorId() {
            return 'visitor_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
        }

        // Function to check if this is a unique visitor
        function isUniqueVisitor() {
            return !localStorage.getItem(VISITOR_KEY);
        }

        // Function to get visitor count
        function getVisitorCount() {
            const count = localStorage.getItem(COUNTER_KEY);
            return count ? parseInt(count) : 0;
        }

        // Function to increment visitor count
        function incrementVisitorCount() {
            let count = getVisitorCount();
            count++;
            localStorage.setItem(COUNTER_KEY, count);
            return count;
        }

        // Function to animate number change
        function animateCount(target) {
            const element = document.getElementById('visitorCount');
            const start = parseInt(element.textContent) || 0;
            const duration = 1000;
            const startTime = performance.now();

            function update(currentTime) {
                const elapsed = currentTime - startTime;
                const progress = Math.min(elapsed / duration, 1);
                
                const current = Math.floor(start + (target - start) * easeOutQuad(progress));
                element.textContent = current.toLocaleString();

                if (progress < 1) {
                    requestAnimationFrame(update);
                }
            }

            function easeOutQuad(t) {
                return t * (2 - t);
            }

            requestAnimationFrame(update);
        }

        // Initialize counter
        function initCounter() {
            let count = getVisitorCount();

            // Check if unique visitor
            if (isUniqueVisitor()) {
                const visitorId = generateVisitorId();
                localStorage.setItem(VISITOR_KEY, visitorId);
                count = incrementVisitorCount();
                
                // Optional: Send to backend
                // sendToBackend(visitorId, count);
            }

            animateCount(count);
        }

        // Optional: Function to send data to backend
        function sendToBackend(visitorId, count) {
            fetch(API_URL, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    visitorId: visitorId,
                    count: count,
                    timestamp: new Date().toISOString()
                })
            }).catch(err => console.log('Backend not configured'));
        }

        // Initialize on page load
        window.addEventListener('load', initCounter);
    </script>
</body>
</html>
